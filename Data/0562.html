<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Horizontal Data Coordinate System Definition [l ong] (fwd) from Russ Rew on 2005-02-23 (Archive of CF discussions from 2002 to 2019 on the cf-metadata mailing list)</title>
<meta name="Author" content="Russ Rew (russ)" />
<meta name="Subject" content="[CF-metadata] Horizontal Data Coordinate System Definition [l ong] (fwd)" />
<meta name="Date" content="2005-02-23" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./0561.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./0563.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Horizontal Data Coordinate System Definition [l ong] (fwd)</h1>
<!-- received="Wed Feb 23 14:32:17 2005" -->
<!-- isoreceived="20050223143217" -->
<!-- sent="Wed, 23 Feb 2005 14:32:17 -0700" -->
<!-- isosent="20050223213217" -->
<!-- name="Russ Rew" -->
<!-- email="russ" -->
<!-- subject="[CF-metadata] Horizontal Data Coordinate System Definition [l ong] (fwd)" -->
<!-- id="200502232132.j1NLWMv2023913_at_unidata.ucar.edu" -->
<!-- charset="US-ASCII" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start562" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./0563.html" accesskey="d" title="Russ Rew: &quot;[CF-metadata] GIS issues&quot;">Next message</a> ]
[ <a href="./0561.html" title="Steve Hankin: &quot;[CF-metadata] GIS issues&quot;">Previous message</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg562" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg562" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg562" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg562" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Russ Rew &lt;<a href="mailto:russ?Subject=Re%3A%20%5BCF-metadata%5D%20Horizontal%20Data%20Coordinate%20System%20Definition%20%5Bl%20ong%5D%20(fwd)">russ</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 23 Feb 2005 14:32:17 -0700</span><br />
</address>
<br />
Hi,
<br />
<br />With his permission, I'm forwarding this reply from Steve Kopp of ESRI
<br />
(who's not on this list).  Steve Kopp suggests an interim solution
<br />
using a single string &quot;Well Known Text&quot; representation supported by
<br />
the OpenGIS Consortium:
<br />
<br />&nbsp;&nbsp;<a href="http://geoapi.sourceforge.net/snapshot/javadoc/org/opengis/referencing/doc-files/WKT.html">http://geoapi.sourceforge.net/snapshot/javadoc/org/opengis/referencing/doc-files/WKT.html</a>
<br />
<br />--Russ
<br />
<br />------- Forwarded Message
<br />
<br />Date:    Thu, 17 Feb 2005 12:45:16 -0800
<br />
From:    Steve Kopp &lt;skopp at esri.com&gt;
<br />
To:      &quot;'Russ Rew'&quot; &lt;russ at unidata.ucar.edu&gt;, Steve Kopp &lt;skopp at esri.com&gt;
<br />
cc:      Nawajish Noman &lt;nnoman at esri.com&gt;
<br />
Subject: RE: [CF-metadata] Horizontal Data Coordinate System Definition [l ong] (fwd)
<br />
<br /><br />Russ,
<br />
<br />Meant to email you last week about this same topic.
<br />
<br />If the netCDF community is torn between FGDC and EPSG, we strongly recommend
<br />
EPSG, since it deals with coordinate systems all over the globe and is a de
<br />
facto standard that many softwares already work with.
<br />
<br />Beyond this, I would suggest considering the OGC standard, which has a
<br />
keyword based string representation, as well as an XML representation, both
<br />
of which work with EPSG codes. The XML version of this is what's used in GML
<br />
and is sometimes simply referred to as the &quot;GML coordinate system
<br />
specification&quot;.
<br />
<br />We have built a tool to export GIS data to netCDF format, so you can see
<br />
where this really becomes important to us. We support dozens of projections
<br />
on hundreds of datums, and would rather not restrict the export tool to only
<br />
being able to create data that conforms to the short list in the CF
<br />
convention. So we'd like to put this information into the netCDF file.
<br />
<br />Is the discussion amongst the netCDF community about supporting a larger
<br />
collection of coordinate systems something that you foresee coming together
<br />
and being agreed on this year, or is this a longer term discussion?  As a
<br />
side note, there is a similar discussion happening for HDF5.
<br />
<br />If this is a longer term discussion, could we write an OGC string into the
<br />
netCDF file?  At least this way our software would recognize it, and others
<br />
would be able to use it if they wanted to, and even if they didn't want to
<br />
use it directly, could at least look at the string and know what the
<br />
coordinate system parameters are?
<br />
<br />Or would the community prefer us to use the XML representation?
<br />
<br />Thanks,
<br />
<br />Steve
<br />
<br /><br /><br /><br />-----Original Message-----
<br />
From: Russ Rew [mailto:russ at unidata.ucar.edu] 
<br />
Sent: Tuesday, February 15, 2005 12:43 PM
<br />
To: Steve Kopp
<br />
Cc: Nawajish Noman
<br />
Subject: [CF-metadata] Horizontal Data Coordinate System Definition [long]
<br />
(fwd)
<br />
<br />Hi Steve and Nawajish,
<br />
<br />I just wanted to forward to you a note that just appeared on a mailing
<br />
list for discussing and improving the CF conventions for netCDF data.
<br />
<br />As you may know, many netCDF files don't have georeferencing that's
<br />
good enough for GIS use, and even the current CF conventions do not
<br />
require specification of a geodetic model, under the assumption that
<br />
latitudes and longitudes are typically sufficient.  The note below
<br />
shows that the participants are starting to think about this now, so
<br />
the next version of the CF conventions may be better for use with GIS
<br />
software.
<br />
<br />--Russ
<br />
<br />------- Forwarded Message
<br />
<br />Date:    Tue, 15 Feb 2005 14:20:54 -0500
<br />
From:    Rich Signell &lt;rsignell at usgs.gov&gt;
<br />
To:      cf-metadata at cgd.ucar.edu
<br />
Subject: [CF-metadata] Horizontal Data Coordinate System Definition [long]
<br />
<br />CF gang,
<br />
<br />I've been thinking about the UTM thread for the last week, and also 
<br />
doing a bit of research.  This UTM issue really brings up the whole 
<br />
issue of how to allow for proper georeferencing in NetCDF, in a way that 
<br />
easily lets true GIS applications like ArcGIS ingest information from 
<br />
the NetCDF file without requiring additional input from the NetCDF file 
<br />
provider (or guesses from the GIS user).
<br />
<br />FGDC METADATA STANDARD
<br />
<br />Since CF is already using FGDC &quot;Content Standard for Digital Geospatial 
<br />
Metadata&quot;
<br />
&lt;<a href="http://www.fgdc.gov/standards/documents/standards/metadata/v2_0698.pdf">http://www.fgdc.gov/standards/documents/standards/metadata/v2_0698.pdf</a>&gt;
<br />
as a guide in choosing the &quot;grid_mapping_name&quot; values and attributes, 
<br />
perhaps we could go ahead and basically implement the full standard for 
<br />
spatial reference information.  A great one-figure view of this Spatial 
<br />
Reference Information in the standard is at:
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://biology.usgs.gov/fgdc.metadata/version2/meta4.gif">http://biology.usgs.gov/fgdc.metadata/version2/meta4.gif</a>
<br />
<br />In this figure, the green indicates &quot;mandatory if applicable&quot;.  Reading 
<br />
the full document reveals that this means that if the data has 
<br />
horizontal information, there must be a 
<br />
&quot;Horizontal_Coordinate_System_Definition&quot; and if the data has vertical 
<br />
information, there must be a &quot;Vertical_Coordinate_System_Definition&quot;.
<br />
<br />For the horizontal, the choices are &quot;Geographic&quot;, &quot;Planar&quot; or &quot;Local&quot; 
<br />
coordinate systems.
<br />
<br />If we ignore &quot;Local&quot; coordinate systems, which are used only in 
<br />
engineering work, (e.g. 200 m east of some known gas rig), we are left 
<br />
with &quot;Geographic&quot; (lon,lat coordinates) and &quot;Planar&quot; (projected x,y 
<br />
coordinates).   For *both* of these coordinate systems, the 
<br />
&quot;Geodetic_Model&quot; specification is required (since it is applicable).
<br />
<br />Thus the Horizontal_Coordinate_System_Definition is defined as
<br />
[ Geographic | Planar ] + {Geodetic_Model}
<br />
<br />GEODETIC MODEL
<br />
<br />The Geodetic_Model is defined as:
<br />
{Horizontal_Datum_Name}+ Ellipsoid_Name + Semi-major_Axis + 
<br />
Denominator_of_Flattening_Ratio
<br />
<br />This allows specifying the datum by name if one is being used, such as: 
<br />
&quot;North American Datum of 1927&quot;, but *requires* that the Ellipsoid_Name 
<br />
be given along with the ellipsoid parameters.
<br />
<br />PLANAR PROJECTIONS
<br />
<br />Planar is defined as:
<br />
[Map_Projection | Grid_Coordinate_System | Local_Planar] + 
<br />
Planar_Coordinate_Information
<br />
<br />Map_Projection is defined as:
<br />
Map_Projection_Name + Map_Projection_Parameters
<br />
<br />Map_Projection_Name are defined as:
<br />
Lambert_Conformal_Conic, Stereographic, etc.
<br />
<br />The Grid_Coordinate_System is defined as:
<br />
Grid_Coordinate_System_Name + grid system parameters
<br />
<br />For Universal_Transverse_Mercator, it is required to specify the 
<br />
UTM_Zone_Number. The UTM zones are defined as [1:60] for northern 
<br />
hemisphere, and [-60:-1] for southern hemisphere.
<br />
<br /><br />So what to do for CF?  Perhaps in addition to &quot;grid_mapping_name&quot; and 
<br />
each &quot;grid_mapping_name&quot;s required parameters we could add Ellipsoid 
<br />
parameters using FGDC nomenclature, making the &quot;Ellipsoid_Name&quot; 
<br />
optional, or refering to a EPSG Ellipsoid, via &quot;Ellipsoid_Name='EPSG:7001';
<br />
<br />temperature: grid_mapping=&quot;my_mapping&quot;
<br />
<br />int my_mapping
<br />
&nbsp;&nbsp;my_mapping: grid_mapping_name = &quot;lambert_conformal_conic&quot;;
<br />
&nbsp;&nbsp;my_mapping: standard_parallel = 25.0;
<br />
&nbsp;&nbsp;my_mapping: longitude_of_central_meridian = 265.0;
<br />
&nbsp;&nbsp;my_mapping: latitude_of_projection_origin = 25.0;
<br />
&nbsp;&nbsp;my_mapping: Ellipsoid_Name=&quot;Airy 1830&quot;;
<br />
&nbsp;&nbsp;my_mapping: Semi-major_Axis=6377563.396;
<br />
&nbsp;&nbsp;my_mapping: Denominator_of_Flattening_Ratio=299.3249646;
<br />
<br />to make things easier, we could allow for the use of EPSG codes, as 
<br />
these have become quite popular in ArcGIS, WMS servers, etc.  The EPSG 
<br />
(The European Petroleum Survey Group) has a database where they assign a 
<br />
unique integer code to 42 ellipsoids, 434 datums, 75 projections 
<br />
(coordinate operation methods) and 2773 coordinate reference systems 
<br />
(combined projection + ellipsoid or datum combinations).
<br />
<br />So we could shortcut the above description of the geodetic model by 
<br />
using EPSG:7001 to specify the Airy 1830 ellipsoid.
<br />
<br />But we could shortcut the whole description of the projection and 
<br />
ellipsoid for well-known coordinate reference systems.  For example, 
<br />
EPSG assigns a number to each zone in the coordinate system  (UTM + 
<br />
WGS84 ellipsoid)
<br />
<br />Thus specifying &quot;EPSG:32619&quot; means WGS84/UTM Zone 19N, and *completely 
<br />
specifies* the relationship between x,y in meters and lon,lat in 
<br />
degrees, without the need to explicitly describe the geoid parameters, 
<br />
the projection, and the projection parameters specific to this UTM zone.
<br />
<br /><br />HANDLING OF UTM
<br />
<br />Also, I guess I'm reversing my position on having UTM as a separate 
<br />
&quot;grid_mapping_name&quot;, even though it is just a subset of Transverse 
<br />
Mercator.   So we could have:
<br />
<br />temperature: grid_mapping=&quot;my_mapping&quot;
<br />
<br />int my_mapping
<br />
&nbsp;&nbsp;my_mapping: grid_mapping_name = &quot;Universal Transverse Mercator&quot;;
<br />
&nbsp;&nbsp;my_mapping: UTM_Zone_Number = 33;
<br />
&nbsp;&nbsp;my_mapping: Ellipsoid_Name=&quot;WGS 84&quot;;
<br />
&nbsp;&nbsp;my_mapping: Semi-major_Axis=6378137;
<br />
&nbsp;&nbsp;my_mapping: Denominator_of_Flattening_Ratio=298.257223563;
<br />
<br /><br />and also
<br />
<br />int my_mapping
<br />
&nbsp;&nbsp;my_mapping: grid_mapping_name = &quot;Universal Transverse Mercator&quot;;
<br />
&nbsp;&nbsp;my_mapping: UTM_Zone_Number = 33;
<br />
&nbsp;&nbsp;my_mapping: Ellipsoid_Name=&quot;WGS 84&quot;;
<br />
<br /><br />or just:
<br />
<br />int my_mapping
<br />
&nbsp;&nbsp;my_mapping: grid_mapping_name = &quot;EPSG:32619&quot;;
<br />
<br /><br />This latter shorthand is very popular and is being used right now in 
<br />
URLS sent to WMS servers to specify the projection of the map that gets 
<br />
returned.   WMS servers probably supply most of the remotely accessed 
<br />
GIS data on the Net.
<br />
<br />If we allowed EPSG codes to be used as &quot;grid_mapping_name&quot;, then we take 
<br />
the burden of handling all the thousands of coordinate reference systems 
<br />
from CF to the EPSG database, which seems to be the bible anyway.
<br />
<br />If you have MS Access, you can peruse the EPSG database through the 
<br />
handy forms they provide built right into the application.  It's a 
<br />
no-brainer, even if you haven't used Access (I hadn't).
<br />
<br /><a href="http://www.epsg.org">http://www.epsg.org</a>
<br />
<br />-Rich
<br />
<br /><br />Jonathan Gregory wrote:
<br />
<br /><em class="quotelev1">&gt; Listening to John and Rich, it seems to me that we should
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; * Extend the transverse Mercator to allow a UTM zone, say how this
</em><br />
specifies
<br />
<em class="quotelev1">&gt; TM parameters, and that the two ways are mutually exclusive (specifying
</em><br />
both
<br />
<em class="quotelev1">&gt; would be a CF error).
</em><br />
<br /><br /><em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; * Add a definition of spheroid to any projection definition where it is
</em><br />
<em class="quotelev1">&gt; relevant, with a list of permitted values. In John's original proposal, he
</em><br />
<em class="quotelev1">&gt; gave numbers to define the ellipsoid (semimajor axis and inverse
</em><br />
flattening).
<br />
<em class="quotelev1">&gt; Rich has given names instead. Are these alternatives? Is there a
</em><br />
definitive
<br />
<em class="quotelev1">&gt; source we could refer to?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Jonathan
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://www.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://www.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<br /><pre>
-- 
Richard P. Signell           rsignell at usgs.gov
U.S. Geological Survey       Phone: (508) 457-2229
384 Woods Hole Road          Fax:   (508) 457-2310
Woods Hole, MA  02543-1598
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu
<a href="http://www.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://www.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
------- End of Forwarded Message
------- End of Forwarded Message
</pre>
<span id="received"><dfn>Received on</dfn> Wed Feb 23 2005 - 14:32:17 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start562">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./0563.html" title="Next message in the list">Russ Rew: "[CF-metadata] GIS issues"</a></li>
<li><dfn>Previous message</dfn>: <a href="./0561.html" title="Previous message in the list">Steve Hankin: "[CF-metadata] GIS issues"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg562" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg562" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg562" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg562" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Tue Sep 13 2022 - 23:02:40 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./0561.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./0563.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
